import{g as y,r as h,R as u}from"./chunk-EPOLDU6W-CtJUS6UA.js";import{S as g,g as m}from"./context-L_wT5nQs.js";import{M as k}from"./Page-CddeMGQL.js";var d,p;function S(){if(p)return d;p=1;var c=typeof Element<"u",s=typeof Map=="function",n=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,f;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!o(e[r],t[r]))return!1;return!0}var l;if(s&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l=e.entries();!(r=l.next()).done;)if(!t.has(r.value[0]))return!1;for(l=e.entries();!(r=l.next()).done;)if(!o(r.value[1],t.get(r.value[0])))return!1;return!0}if(n&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l=e.entries();!(r=l.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(f=Object.keys(e),i=f.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[r]))return!1;if(c&&e instanceof Element)return!1;for(r=i;r--!==0;)if(!((f[r]==="_owner"||f[r]==="__v"||f[r]==="__o")&&e.$$typeof)&&!o(e[f[r]],t[f[r]]))return!1;return!0}return e!==e&&t!==t}return d=function(t,i){try{return o(t,i)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},d}var N=S();const C=y(N);function v(){const c=h.useContext(g);if(!c)throw new k("No StickyManager was provided.");return c}class E extends h.Component{constructor(...s){super(...s),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=n=>{this.placeHolderNode=n},this.setStickyNode=n=>{this.stickyNode=n},this.handlePositioning=(n,a=0,o=0,e=0)=>{const{isSticky:t}=this.state;(n&&!t||!n&&t)&&(this.adjustPlaceHolderNode(n),this.setState({isSticky:!t},()=>{if(this.props.onStickyChange==null||(this.props.onStickyChange(!t),this.props.boundingElement==null))return null;this.props.boundingElement.toggleAttribute("data-sticky-active")}));const i=n?{position:"fixed",top:a,left:o,width:e}:{};this.setState({style:i})},this.adjustPlaceHolderNode=n=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=n?`${m(this.stickyNode).height}px`:"0px")}}componentDidMount(){const{boundingElement:s,offset:n=!1,disableWhenStacked:a=!1,stickyManager:o}=this.props;!this.stickyNode||!this.placeHolderNode||o.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:n,boundingElement:s,disableWhenStacked:a})}componentDidUpdate(){const{boundingElement:s,offset:n=!1,disableWhenStacked:a=!1,stickyManager:o}=this.props;if(!this.stickyNode||!this.placeHolderNode)return;const e=o.getStickyItem(this.stickyNode);(!e||s!==e.boundingElement||n!==e.offset||a!==e.disableWhenStacked)&&(o.unregisterStickyItem(this.stickyNode),o.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:n,boundingElement:s,disableWhenStacked:a}))}componentWillUnmount(){const{stickyManager:s}=this.props;this.stickyNode&&s.unregisterStickyItem(this.stickyNode)}render(){const{style:s,isSticky:n}=this.state,{children:a}=this.props,o=M(a)?a(n):a;return u.createElement("div",null,u.createElement("div",{ref:this.setPlaceHolderNode}),u.createElement("div",{ref:this.setStickyNode,style:s},o))}}function M(c){return typeof c=="function"}function O(c){const s=v();return u.createElement(E,Object.assign({},c,{stickyManager:s}))}export{O as S,C as i};
